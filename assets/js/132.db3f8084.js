(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{794:function(e,v,_){"use strict";_.r(v);var r=_(4),t=Object(r.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h2",{attrs:{id:"分支管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[e._v("#")]),e._v(" 分支管理")]),e._v(" "),_("h4",{attrs:{id:"创建项目时-会针对不同环境创建两个常设分支-也可以算主分支-永久不会删除"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#创建项目时-会针对不同环境创建两个常设分支-也可以算主分支-永久不会删除"}},[e._v("#")]),e._v(" 创建项目时，会针对不同环境创建两个常设分支(也可以算主分支，永久不会删除)")]),e._v(" "),_("ol",[_("li",[_("p",[_("code",[e._v("master")]),e._v("：生产环境的稳定分支，生产环境基于该分支构建。仅用来发布新版本，除了从"),_("code",[e._v("release")]),e._v("测试分支或 "),_("code",[e._v("hotfix-*")]),e._v("Bug 修复分支进行 merge，不接受任何其它修改。")]),e._v(" "),_("blockquote",[_("p",[_("code",[e._v("master")]),e._v(" 分支上存放的应该是随时可供在生产环境中部署的代码（Production Ready state）。当开发活动告一段落，产生了一份新的可供部署的代码时，"),_("code",[e._v("master")]),e._v(" 分支上的代码会被更新。同时，每一次更新，最好添加对应的版本号标签。")])])]),e._v(" "),_("li",[_("p",[_("code",[e._v("develop")]),e._v("：开发环境的稳定分支，公共开发环境基于该分支构建，"),_("code",[e._v("develop")]),e._v("分支是保存当前最新开发成果的分支。也就是说"),_("code",[e._v("develop")]),e._v("分支来源于"),_("code",[e._v("feature")]),e._v("、"),_("code",[e._v("release")]),e._v("、"),_("code",[e._v("hotfix-*")]),e._v("分支。")])])]),e._v(" "),_("h4",{attrs:{id:"平时开发工作中-会根据需要由开发人员创建四类临时分支-也可以算辅助分支-用完立即删除"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#平时开发工作中-会根据需要由开发人员创建四类临时分支-也可以算辅助分支-用完立即删除"}},[e._v("#")]),e._v(" 平时开发工作中，会根据需要由开发人员创建四类临时分支(也可以算辅助分支，用完立即删除)")]),e._v(" "),_("ol",[_("li",[_("p",[_("code",[e._v("feature-*")]),e._v("：功能分支，是为了开发某个特定功能，从"),_("code",[e._v("develop")]),e._v("分支上面分出来的。开发完成后，要 merge 到 "),_("code",[e._v("develop")]),e._v("分支。功能分支的命名，采用"),_("code",[e._v("feature-*")]),e._v("的形式命名(*为任务单号)")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("release")]),e._v("：测试环境的稳定分支，本分支是从"),_("code",[e._v("develop")]),e._v("分支派生出来的，测试人员在该分支进行测试并提交 Bug,开发人员基于该分支派生的"),_("code",[e._v("bugfix-*")]),e._v("分支进行 bug 修复，最终再合并回"),_("code",[e._v("release")]),e._v("分支，待测试完成，该分支必须合并回"),_("code",[e._v("develop")]),e._v("分支和"),_("code",[e._v("master")]),e._v("分支。")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("bugfix-*")]),e._v("：测试阶段修复 Bug 用此类分支命名，该分支是为了修复某个 bug，从"),_("code",[e._v("release")]),e._v("分支上面分出来的。修复完成后，再合并回"),_("code",[e._v("release")]),e._v("分支。Bug 修复分支的命名，采用"),_("code",[e._v("bugfix-*")]),e._v("的形式命名（*为 bug 单号）")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("hotfix-*")]),e._v("：线上出现的紧急 Bug，需要及时修复用此类分支命名，从"),_("code",[e._v("master")]),e._v("分支切换出来的分支，修复之后合并回"),_("code",[e._v("master")]),e._v("和"),_("code",[e._v("develop")]),e._v("。")])])]),e._v(" "),_("h3",{attrs:{id:"流程规范"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#流程规范"}},[e._v("#")]),e._v(" 流程规范")]),e._v(" "),_("h4",{attrs:{id:"正常开发流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#正常开发流程"}},[e._v("#")]),e._v(" 正常开发流程")]),e._v(" "),_("ol",[_("li",[_("p",[e._v("从"),_("code",[e._v("develop")]),e._v("分支切出多个命名为"),_("code",[e._v("feature-*")]),e._v("分支开发新功能。")])]),e._v(" "),_("li",[_("p",[e._v("开发者完成开发，提交分支到远程仓库。")])]),e._v(" "),_("li",[_("p",[e._v("开发者发起 merge 请求（可在 gitlab 页面“New merge request”），将新分支请求 merge 到"),_("code",[e._v("develop")]),e._v("分支，并提醒 code reviewer 进行 review")])]),e._v(" "),_("li",[_("p",[e._v("code reviewer 对代码 review 之后，若无问题，则接受 merge 请求，新分支 merge 到"),_("code",[e._v("develop")]),e._v("分支，同时可删除新建分支；若有问题，则不能进行 merge，可 close 该请求，同时通知开发者在新分支上进行相应调整。调整完后提交代码重复 review 流程。")])]),e._v(" "),_("li",[_("p",[e._v("转测时，直接从当前"),_("code",[e._v("develop")]),e._v("分支 merge 到"),_("code",[e._v("release")]),e._v("分支，重新构建测试环境完成转测。")])]),e._v(" "),_("li",[_("p",[e._v("测试完成后，从"),_("code",[e._v("release")]),e._v("分支 merge 到"),_("code",[e._v("master")]),e._v("分支，基于"),_("code",[e._v("master")]),e._v("分支构建生产环境完成上线。并对"),_("code",[e._v("master")]),e._v("分支打 tag，tag 名可为 v1.0.0_2019032115（即版本号_上线时间）")])])]),e._v(" "),_("p",[_("img",{attrs:{src:"/pageImg/220507/git%E9%A1%B9%E7%9B%AE%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86_%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B.png",alt:""}})]),e._v(" "),_("h4",{attrs:{id:"生产环境-bug-修复流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#生产环境-bug-修复流程"}},[e._v("#")]),e._v(" 生产环境 Bug 修复流程")]),e._v(" "),_("p",[e._v("生产环境的 Bug 分两种情况：")]),e._v(" "),_("ol",[_("li",[_("p",[e._v("紧急 Bug：严重影响用户使用的为紧急 Bug，需立即进行修复。如关键业务流程存在问题，影响用户正常的业务行为。")])]),e._v(" "),_("li",[_("p",[e._v("非紧急 Bug 或优化：非关键业务流程问题，仅影响用户使用体验，或出现频率较小等，为非紧急 Bug，可规划到后续版本进行修复。")])])]),e._v(" "),_("p",[e._v("第二种情况非紧急 Bug 修复参考“正常开发流程”。")]),e._v(" "),_("p",[e._v("第一种紧急 Bug 修复，需要从"),_("code",[e._v("master")]),e._v("分支切出一个 bug 修复分支，完成之后需要同时 merge 到"),_("code",[e._v("master")]),e._v("分支与 "),_("code",[e._v("develop")]),e._v("分支（如果需要测试介入验证，则可先 merge 到"),_("code",[e._v("release")]),e._v("分支，验证通过后再 merge 到"),_("code",[e._v("master")]),e._v("分支上线）。merge 时参考“正常开发流程”。流程示意图如下")]),e._v(" "),_("p",[_("img",{attrs:{src:"/pageImg/220507/git%E9%A1%B9%E7%9B%AE%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86_BUG%E4%BF%AE%E5%A4%8D%E6%B5%81%E7%A8%8B.png",alt:""}})])])}),[],!1,null,null,null);v.default=t.exports}}]);